(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{6352:function(e,t,a){var A={"./":[9274,7,274],"./index":[9274,7,274],"./index-1c5c47b4":[3959,9],"./index-1c5c47b4.js":[3959,9],"./index.js":[9274,7,274],"./ionicpwaelements":[8910,9,910],"./ionicpwaelements.js":[8910,9,910],"./loader":[8317,9],"./loader.js":[8317,9],"./pwa-action-sheet.entry":[3807,9,807],"./pwa-action-sheet.entry.js":[3807,9,807],"./pwa-camera-modal-instance.entry":[7890,9,890],"./pwa-camera-modal-instance.entry.js":[7890,9,890],"./pwa-camera-modal.entry":[9238,9,238],"./pwa-camera-modal.entry.js":[9238,9,238],"./pwa-camera.entry":[3099,9,99],"./pwa-camera.entry.js":[3099,9,99],"./pwa-toast.entry":[5816,9,816],"./pwa-toast.entry.js":[5816,9,816]};function r(e){if(!a.o(A,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=A[e],r=t[0];return Promise.all(t.slice(2).map(a.e)).then(function(){return a.t(r,16|t[1])})}r.keys=function(){return Object.keys(A)},r.id=6352,e.exports=r},5557:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(6264)}])},6264:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var A=a(5893),r=a(9008),n=a.n(r),s=a(7294),i={src:"/_next/static/media/copy.24ea6f38.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEVQTts3N8BQTtpQTdhQTdlQTdlPTddRT9lNTdZKStUJhQICAAAACnRSTlNjAYJamrdMLUUfN/vipAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAADFJREFUeJxdxrkRwDAQxDBy75Hcf8Mep0YE9FCs+ExSvZzpdPioSf3Sc9kumBIXOPoCFycAmmc6xZ8AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},l={src:"/_next/static/media/speech.3c7d3a8c.png",height:64,width:64,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAGFBMVEVUUeNQTtpQTtlRT9tRT9tQTthQTtlTUeAGAJHPAAAACHRSTlMBgXOWNUcPYP7W8OcAAAAJcEhZcwABdwAAAXcAAeYC4S8AAAAsSURBVHicRYtBCgAgDMPSdtP//1gQnD0FkgKUueuELhwtl4R2oeV8GDXxux8T5ACNZhihqgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8};let c=[{text:"English",icon:{src:"/_next/static/media/usa.ad483282.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAY1BMVEXeJETjkp3stb3vwMjeM1Iqb8Izc79MaXHb1eDu0NTfSmXrwsndJUYFVa9sl85Afcc/gMnWssLpL03wqLLJK1HZRmHxx8/fZHrw0NbiMFA2e8r6zNTuL1BAc70+eMHYvszKIUeXq5vHAAAAGnRSTlP+Ly7q9LL5APz+tf73MC/q9PixtP4vsDDzsSKQ9GMAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABFSURBVHicBcEHAoAgDASwY7YMxS2y9P+vNAHNxq77SZhS6UfTN0yx4831wjJK/4AIZmbnXMbWAMT2QKgaQlUCJL3WXtIPjnUDf2W1DTgAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},sortOrder:1},{text:null,icon:{src:"/_next/static/media/swap.22fbef92.png",height:64,width:64,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAIVBMVEX///9MaXH///////////////////////////////////+zsAL3AAAAC3RSTlOoAG8Pef0r3kiGgjDc7xIAAAAJcEhZcwABdwAAAXcAAeYC4S8AAAAzSURBVHicHYu5EQAwCMOEDfn2HzgHalzIwulooGgWr65SbOKMEurxCTZK3Xqs+RZM6/QHF6AAp5sdcg8AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},sortOrder:2},{text:"Dari",icon:{src:"/_next/static/media/afghanistan.536dc3d5.png",height:1024,width:1024,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAASFBMVEUIAgIDAgJSrFQEAQH3QTryRD1RrFU+sVBMaXFVFxVVLCoAAACIllyGg0hhHBlEs1aQgElHtFYAAAD3UEn6g36NkFD7mZX3ZV4439pkAAAAEXRSTlMv87Cw/vjzLwD9/ur++rTqtHSBEiAAAAAJcEhZcwAACxMAAAsTAQCanBgAAAA8SURBVHicY+Bg4GNlFWDnYGDg5mRhEeVnZ2AW4hQW5hVkYmAU4hIR4RFkAzHExEAMZiFOcXGQFFwxTDsAX9QCsdcd4LEAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},sortOrder:3}];var o=a(5675),d=a.n(o),h=e=>{let{setInputLanguage:t,switched:a,setSwitched:r,reset:n}=e,[i,l]=(0,s.useState)(c);(0,s.useEffect)(()=>{l(e=>[...e].sort((e,t)=>a?t.sortOrder-e.sortOrder:e.sortOrder-t.sortOrder)),a?t("Dari"):t("English")},[a,t]);let o=()=>{r(!a),n()};return(0,A.jsx)("div",{className:"Languages",children:i.map((e,t)=>(0,A.jsx)("div",{className:"language input-language",children:(0,A.jsx)(d(),{src:null==e?void 0:e.icon,alt:"language icon",className:e.text?"language-icon":"switch-button",onClick:o})},(null==e?void 0:e.sortOrder)||t))})},g=a(4229);let u={default:{placeholder:"What would you like to translate?",reset:"Reset",translate:"Translate",alertTitle:"Input Warning",alertMessage:"Please enter text",errorResponse:{latin:"We're sorry, we are unable to complete your request at this time.",arabic:"ببخشید، ما نمیتوانم درخواست شما را انجام دهم"}},English:{placeholder:"What would you like to translate?",reset:"Reset",translate:"Translate",alertTitle:"Input Warning",alertMessage:"Please enter text in English.",errorResponse:{latin:"We're sorry, we are unable to complete your request at this time."},icons:{file:"File",photo:"Photo",camera:"Camera",scan:"Scan"}},Dari:{placeholder:"چه میخواهید ترجمه کنید؟\nChe mikhahi tarjuma koni?",reset:"Reset",translate:"چگونه",alertTitle:"پیغام هوشدار",alertMessage:"لطفاً متن را برای ترجمه وارد کنید",errorResponse:{arabic:"ببخشید، ما نمیتوانم درخواست شما را انجام دهم"},icons:{file:"فایل",photo:"عکس",camera:"دوربین",scan:"اسکن"}}};var p={src:"/_next/static/media/refresh.7b8702f5.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAGFBMVEVCQuJST9dQTtpPTddPTdhQTdVQTtdPSdeSA8n7AAAACHRSTlMBFZyLaFbxLTzit4oAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAArSURBVHicJYrJDQAgAMK41P03NgReDS3wSKKTLBd1D+JeNZodJJiitXgRPgzyAFGcHC34AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},m=e=>{let{input:t,setInput:a,inputLanguage:r,switched:n,reset:i,handleKeyDown:l}=e,[c,o]=(0,s.useState)(0),h=u[r],m=e=>{a(e.target.value),o(e.target.value.length)};return(0,s.useEffect)(()=>{(null==t?void 0:t.length)===0&&o(0)},[t]),(0,A.jsx)("div",{className:"Input",children:(0,A.jsxs)("span",{className:"p-float-label input-textarea ".concat(n&&"right"),children:[(0,A.jsx)(g.g,{value:t,onChange:e=>m(e),onKeyDown:l,placeholder:h.placeholder,maxLength:1200,className:"".concat(n&&"right")}),(0,A.jsxs)("div",{className:"input-info",children:[(0,A.jsxs)("div",{className:"character-count",children:[c,"/1200"]}),(0,A.jsx)(d(),{src:p,alt:"",className:"reset ".concat(t&&"show"),onClick:i})]}),(0,A.jsx)("label",{children:n?"دری ".concat(r," "):r})]})})},w=a(9807);let x=async e=>{await w.T.write({string:e})};var T=()=>{let e="https://afghan-translator-api.onrender.com/api";return{endpoint:"https://afghan-translator-api-dev.onrender.com/api"}};let U=async(e,t)=>{let{endpoint:a}=T();try{let A=await fetch("".concat(a,"/tts"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t})});if(!A.ok){let e=new SpeechSynthesisUtterance(t);await speechSynthesis.speak(e)}let r=await A.blob(),n=URL.createObjectURL(r),s=new Audio(n);s.playbackRate="Dari"===e?1:.8,s.play()}catch(e){console.error("Error fetching audio:",e)}return{}};a(9895),a(9872);var S=a(6697),E=a.n(S);let b={display:"block",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"};var D=e=>{let{response:t,inputLanguage:a,loading:r}=e,[n,i]=(0,s.useState)(!1),[l,c]=(0,s.useState)(!1),o=async()=>{c(!0);let e="";"Dari"===a?e=null==t?void 0:t.latin:"English"===a&&(e=null==t?void 0:t.arabic);let A=U(a,e);return await A&&c(!1),A},d=()=>{let e="";return"Dari"===a?e=null==t?void 0:t.latin:"English"===a&&(e=null==t?void 0:t.arabic),e};return(0,A.jsxs)("div",{className:"Output",children:[(0,A.jsx)(E(),{color:"#504ED8",loading:r,cssOverride:b,"aria-label":"Loading Spinner"}),"English"===a&&(0,A.jsx)("p",{className:"output-text-dari",children:null==t?void 0:t.arabic}),(0,A.jsx)("p",{className:"output-text",children:null==t?void 0:t.latin}),t&&(0,A.jsx)("div",{className:"output-buttons",children:(0,A.jsx)(Y,{isAudioLoading:l,handleSpeak:o,isCopied:n,handleCopy:()=>{x(d()),i(!0),setTimeout(()=>{i(!1)},2e3)}})})]})},R=a(8677),f={src:"/_next/static/media/camera.5ef35625.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAIVBMVEVQT9xQTtpQTdhPTthQTthYVu5MaXFRUdxRUeNRUdtRT936cYiKAAAACnRSTlPuZ0mR5/4ALBwy/lYb1gAAAAlwSFlzAAAOwwAADsMBx2+oZAAAADVJREFUeJxFyrkRwDAQA7El75HM/gt24MApBuw+9rPLNTP40qGKNImqlJDWjDq/8B04tmSfFyxeASlQohjYAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},y={src:"/_next/static/media/photos.0afd8c1c.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAKlBMVEVOTuZQTtpQTtlQTtlSUN9QTtlQTtlRUdZPTdhQTtdPTdlOTNhPTddRUdjDb9rZAAAADnRSTlMBpp6P/vhVEL4k1DuAQoqKdQgAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAA4SURBVHicHcEJDsAgCATAPQAF7f+/28QZ4G5S3IB50SCW63SSKHomMiFFREZiW7L9YZ3SpPCsavwnzAEX12AGuwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},j=a(5523),M={src:"/_next/static/media/upload.271c23ee.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAIVBMVEVMaXFRT91RTttQTtdPTtpQT9pNTdFQTtlMTOVPT9lPTNjfS81eAAAAC3RSTlMA+RqZS8JP0gowakcEfUwAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAzSURBVHicJcbJEcAwDMNAkKJ89V9wxs5+AICEZ0jj1lOaBmPJmP6naVbVunOS5DS7nv0BEuEAt82MIfYAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},N=a(6318);let v=a(8);var C=e=>{let{handleFileChange:t,inputLanguage:a}=e,r=u[a];(0,s.useEffect)(()=>{(0,j.q4)(window)},[]);let n=e=>{try{return v.remove(e)}catch(t){return console.error("Error stripping EXIF data:",t),e}},i=async()=>{try{let e=await N.G.pickFiles({types:[],multiple:!1,readData:!0});if(e.files.length>0){let a=e.files[0],A=a.mimeType||"image/png",r="data:".concat(A,";base64,").concat(a.data);t(r)}}catch(e){"User cancelled photos app"!==e.message&&console.error("Error selecting file:",e)}},l=async()=>{try{let e=await R.V1.getPhoto({quality:90,source:R.oK.Photos,resultType:R.dk.DataUrl}),a=n(e.dataUrl);t(a)}catch(e){"User cancelled photos app"!==e.message&&console.error("Error selecting photo:",e)}},c=async()=>{try{let e=await R.V1.getPhoto({quality:100,allowEditing:!0,source:R.oK.Camera,resultType:R.dk.DataUrl});console.log("photo: ",e);let a=n(e.dataUrl);t(a)}catch(e){"User cancelled photos app"!==e.message&&console.error("Error taking photo:",e)}};return(0,A.jsxs)("div",{className:"media-handler",children:[(0,A.jsxs)("div",{style:{cursor:"pointer"},onClick:i,children:[(0,A.jsx)(d(),{src:M,alt:"File",className:"icon file",width:40,height:40}),(0,A.jsx)("p",{className:"icon-label",children:r.icons.file})]}),(0,A.jsxs)("div",{style:{cursor:"pointer"},onClick:l,children:[(0,A.jsx)(d(),{src:y,alt:"Photo Library",className:"icon photo-library",width:40,height:40}),(0,A.jsx)("p",{className:"icon-label",children:r.icons.photo})]}),(0,A.jsxs)("div",{style:{cursor:"pointer"},onClick:c,children:[(0,A.jsx)(d(),{src:f,alt:"Camera",className:"icon camera",width:40,height:40}),(0,A.jsx)("p",{className:"icon-label",children:r.icons.camera})]})]})},V=a(2068),O=a(3302),Q=a.n(O),k=()=>{let{endpoint:e}=T(),[t,a]=(0,s.useState)("Dari"),[A,r]=(0,s.useState)(!1),[n,i]=(0,s.useState)(""),[l,c]=(0,s.useState)(""),[o,d]=(0,s.useState)(!0),h=u[t],g=new(Q())("6d0d81d4961da4016400187ae4215ece");(0,s.useEffect)(()=>{r(!1),(null==l?void 0:l.length)===0&&i("")},[l]);let p=()=>{V.V.alert({title:h.alertTitle,message:h.alertMessage})},m=async()=>{if(console.log({input:l}),""===l.trim())return await p(),!1;let e=await g.detect(l).then(e=>{var t;return null===(t=e[0])||void 0===t?void 0:t.language});return"English"===t&&"en"===e||"Dari"===t&&"en"!==e||(await p(),!1)},w=async()=>{await m(l)&&(r(!0),fetch("".concat(e,"/translate"),{mode:"cors",method:"POST",body:JSON.stringify({language:t,text:l}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(e=>{var t;i(null===(t=JSON)||void 0===t?void 0:t.parse(e))}).catch(e=>{console.error(e.message),i(null==h?void 0:h.errorResponse)}).finally(()=>{r(!1)}))};return{inputLanguage:t,setInputLanguage:a,input:l,setInput:c,translate:w,loading:A,setLoading:r,response:n,setResponse:i,switched:o,setSwitched:d,reset:()=>{c(""),i("")},inputConfig:h}},B=a(7320),I=a.n(B),P=()=>{let[e,t]=(0,s.useState)(!1);return{isUploading:e,upload:async(e,a,A,r)=>{console.log("dataUrl: ",e);try{a(!0),t(!0),I().setLogging(!0);let{data:{text:n}}=await I().recognize(e,"Dari"===r?"fas":"eng",{logger:()=>{}});A(n)}catch(e){console.error("Error extracting text:",e)}finally{t(!1),a(!1)}}}},L=a(5132),F=()=>{let{inputLanguage:e,setInputLanguage:t,input:a,setInput:r,translate:n,loading:s,setLoading:i,response:l,switched:c,setSwitched:o,reset:d,inputConfig:g}=k(),{upload:u}=P();return(0,A.jsxs)("div",{className:"TranslateText",children:[(0,A.jsx)(h,{setInputLanguage:t,switched:c,setSwitched:o,reset:d}),(0,A.jsx)(m,{input:a,setInput:r,translate:n,setLoading:i,inputLanguage:e,inputConfig:g,switched:c,reset:d,handleKeyDown:t=>{"Enter"===t.key&&(t.preventDefault(),n(a,e))}}),(0,A.jsx)(D,{response:l,inputLanguage:e,loading:s}),(0,A.jsx)(L.z,{className:"translate-button",label:g.translate,icon:"pi pi-check",onClick:()=>{n(a)}}),(0,A.jsx)(C,{handleFileChange:t=>{u(t,i,r,e)},inputLanguage:e})]})},J=a(3380),H=a.n(J);let K=e=>{let{handleSpeak:t}=e;return(0,A.jsx)(d(),{src:l,alt:"speaker icon",className:"speaker",onClick:()=>t()})},z=()=>(0,A.jsx)(H(),{color:"#504ed8",className:"speaker",size:20});var Z=e=>{let{isAudioLoading:t,handleSpeak:a}=e;return(0,A.jsx)(()=>t?(0,A.jsx)(z,{}):(0,A.jsx)(K,{handleSpeak:a}),{})},G={src:"/_next/static/media/check.e8eb689a.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAM1BMVEVMStdycOTFxfFJRtxMaXFRTthSUN5PTddPTdlRT9xaWNtVU+bX1/ZOTOTx8fyLiuXCwvHAqoVSAAAACnRSTlP+/vqwALOwLvbqFzDhgQAAAAlwSFlzAAAOxAAADsQBlSsOGwAAADlJREFUeJw1y7kBgDAMALEzJP4d2H9aKtSLZdt928KiYMLQgrzkxvPJ7nRczmlwdORNSrEYqDD+/gE+KgG/4betswAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},Y=e=>{let{isAudioLoading:t,handleSpeak:a,isCopied:r,handleCopy:n}=e;return(0,A.jsxs)("div",{className:"output-buttons",children:[(0,A.jsx)(Z,{isAudioLoading:t,handleSpeak:a}),(0,A.jsx)(d(),{src:r?G:i,alt:"copy icon",className:"copy",onClick:n})]})},W=a(4298),X=a.n(W);function _(){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(n(),{children:[(0,A.jsx)("title",{children:"Afghan Translator"}),(0,A.jsx)("meta",{name:"description",content:"Dari-English Translator App"}),(0,A.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,A.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,A.jsx)("script",{src:"//unpkg.com/moesif-browser-js@v1/moesif.min.js"}),(0,A.jsx)(X(),{id:"moesif-init",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:'\n            moesif.init({\n              applicationId: "'.concat("eyJhcHAiOiI0OTM6NzQzIiwidmVyIjoiMi4xIiwib3JnIjoiMzU5OjUxMyIsImlhdCI6MTcxNDUyMTYwMH0.UiDoCRRghryUbjvAAb1nOeTlE08EMJjcEPhoV4Xj7-A",'",\n            });\n\n            moesif.identifyUser("12345");\n\n            moesif.track("clicked_sign_up", {\n              button_label: "Get Started",\n            });\n          ')}}),(0,A.jsx)("div",{className:"App",children:(0,A.jsx)(F,{})})]})}}},function(e){e.O(0,[13,888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);