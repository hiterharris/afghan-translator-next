(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,A){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return A(2230)}])},2230:function(e,t,A){"use strict";A.r(t),A.d(t,{default:function(){return W}});var a=A(5893),i=A(9008),s=A.n(i),n=A(7294),l={src:"/_next/static/media/copy.24ea6f38.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEVQTts3N8BQTtpQTdhQTdlQTdlPTddRT9lNTdZKStUJhQICAAAACnRSTlNjAYJamrdMLUUfN/vipAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAADFJREFUeJxdxrkRwDAQxDBy75Hcf8Mep0YE9FCs+ExSvZzpdPioSf3Sc9kumBIXOPoCFycAmmc6xZ8AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},r={src:"/_next/static/media/speech.3c7d3a8c.png",height:64,width:64,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAGFBMVEVUUeNQTtpQTtlRT9tRT9tQTthQTtlTUeAGAJHPAAAACHRSTlMBgXOWNUcPYP7W8OcAAAAJcEhZcwABdwAAAXcAAeYC4S8AAAAsSURBVHicRYtBCgAgDMPSdtP//1gQnD0FkgKUueuELhwtl4R2oeV8GDXxux8T5ACNZhihqgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},c={src:"/_next/static/media/scan.be65b34f.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEVQTdhMaXFQTdhRT9xQTdlQTdhPTNRQTtlPT9sAAP/a6SqcAAAACnRSTlMpAKGpRIUYk10CEhANqQAAAAlwSFlzAAAOwwAADsMBx2+oZAAAADRJREFUeJw1y7kRADEMgEDQY9n9N3yj4OIFiIQMiPI9K0jPzDHBqRoB+96Wpe6lKHXjf/8AG7QAudfV7b4AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8};let o=[{text:"English",icon:{src:"/_next/static/media/usa.ad483282.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAY1BMVEXeJETjkp3stb3vwMjeM1Iqb8Izc79MaXHb1eDu0NTfSmXrwsndJUYFVa9sl85Afcc/gMnWssLpL03wqLLJK1HZRmHxx8/fZHrw0NbiMFA2e8r6zNTuL1BAc70+eMHYvszKIUeXq5vHAAAAGnRSTlP+Ly7q9LL5APz+tf73MC/q9PixtP4vsDDzsSKQ9GMAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABFSURBVHicBcEHAoAgDASwY7YMxS2y9P+vNAHNxq77SZhS6UfTN0yx4831wjJK/4AIZmbnXMbWAMT2QKgaQlUCJL3WXtIPjnUDf2W1DTgAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},sortOrder:1},{text:null,icon:{src:"/_next/static/media/swap.22fbef92.png",height:64,width:64,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAIVBMVEX///9MaXH///////////////////////////////////+zsAL3AAAAC3RSTlOoAG8Pef0r3kiGgjDc7xIAAAAJcEhZcwABdwAAAXcAAeYC4S8AAAAzSURBVHicHYu5EQAwCMOEDfn2HzgHalzIwulooGgWr65SbOKMEurxCTZK3Xqs+RZM6/QHF6AAp5sdcg8AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},sortOrder:2},{text:"Dari",icon:{src:"/_next/static/media/afghanistan.536dc3d5.png",height:1024,width:1024,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAASFBMVEUIAgIDAgJSrFQEAQH3QTryRD1RrFU+sVBMaXFVFxVVLCoAAACIllyGg0hhHBlEs1aQgElHtFYAAAD3UEn6g36NkFD7mZX3ZV4439pkAAAAEXRSTlMv87Cw/vjzLwD9/ur++rTqtHSBEiAAAAAJcEhZcwAACxMAAAsTAQCanBgAAAA8SURBVHicY+Bg4GNlFWDnYGDg5mRhEeVnZ2AW4hQW5hVkYmAU4hIR4RFkAzHExEAMZiFOcXGQFFwxTDsAX9QCsdcd4LEAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},sortOrder:3}];var d=A(5675),g=A.n(d),h=e=>{let{setInputLanguage:t,switched:A,setSwitched:i,reset:s}=e,[l,r]=(0,n.useState)(o);(0,n.useEffect)(()=>{r(e=>[...e].sort((e,t)=>A?t.sortOrder-e.sortOrder:e.sortOrder-t.sortOrder)),A?t("Dari"):t("English")},[A,t]);let c=()=>{i(!A),s()};return(0,a.jsx)("div",{className:"Languages",children:l.map((e,t)=>(0,a.jsx)("div",{className:"language input-language",children:(0,a.jsx)(g(),{src:null==e?void 0:e.icon,alt:"language icon",className:e.text?"language-icon":"switch-button",onClick:c})},(null==e?void 0:e.sortOrder)||t))})},u=A(4229);let p={default:{placeholder:"What would you like to translate?",reset:"Reset",translate:"Translate",alertTitle:"Input Warning",alertMessage:"Please enter text",errorResponse:{latin:"We're sorry, we are unable to complete your request at this time.",arabic:"ببخشید، ما نمیتوانم درخواست شما را انجام دهم"}},English:{placeholder:"What would you like to translate?",reset:"Reset",translate:"Translate",alertTitle:"Input Warning",alertMessage:"Please enter text in English.",errorResponse:{latin:"We're sorry, we are unable to complete your request at this time."}},Dari:{placeholder:"چه میخواهید ترجمه کنید؟\nChe mikhahi tarjuma koni?",reset:"Reset",translate:"چگونه",alertTitle:"پیغام هوشدار",alertMessage:"لطفاً متن را برای ترجمه وارد کنید",errorResponse:{arabic:"ببخشید، ما نمیتوانم درخواست شما را انجام دهم"}}};var m={src:"/_next/static/media/refresh.7b8702f5.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAGFBMVEVCQuJST9dQTtpPTddPTdhQTdVQTtdPSdeSA8n7AAAACHRSTlMBFZyLaFbxLTzit4oAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAArSURBVHicJYrJDQAgAMK41P03NgReDS3wSKKTLBd1D+JeNZodJJiitXgRPgzyAFGcHC34AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},w=e=>{let{input:t,setInput:A,inputLanguage:i,switched:s,reset:l,handleKeyDown:r}=e,[c,o]=(0,n.useState)(0),d=p[i],h=e=>{A(e.target.value),o(e.target.value.length)};return(0,n.useEffect)(()=>{(null==t?void 0:t.length)===0&&o(0)},[t]),(0,a.jsx)("div",{className:"Input",children:(0,a.jsxs)("span",{className:"p-float-label input-textarea ".concat(s&&"right"),children:[(0,a.jsx)(u.g,{value:t,onChange:e=>h(e),onKeyDown:r,placeholder:d.placeholder,maxLength:1200,className:"".concat(s&&"right")}),(0,a.jsxs)("div",{className:"input-info",children:[(0,a.jsxs)("div",{className:"character-count",children:[c,"/1200"]}),(0,a.jsx)(g(),{src:m,alt:"",className:"reset ".concat(t&&"show"),onClick:l})]}),(0,a.jsx)("label",{children:s?"دری ".concat(i," "):i})]})})},x=A(9807);let T=async e=>{await x.T.write({string:e})};var S=()=>{let e="https://afghan-translator-api.onrender.com/api";return{endpoint:"https://afghan-translator-api-dev.onrender.com/api"}};let b=async(e,t)=>{let{endpoint:A}=S();try{let a=await fetch("".concat(A,"/tts"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t})});if(!a.ok){let e=new SpeechSynthesisUtterance(t);await speechSynthesis.speak(e)}let i=await a.blob(),s=URL.createObjectURL(i),n=new Audio(s);n.playbackRate="Dari"===e?1:.8,n.play()}catch(e){console.error("Error fetching audio:",e)}return{}};A(9895),A(9872);var U=A(6697),R=A.n(U);let E={display:"block",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"};var D=e=>{let{response:t,inputLanguage:A,loading:i}=e,[s,l]=(0,n.useState)(!1),[r,c]=(0,n.useState)(!1),o=async()=>{c(!0);let e="";"Dari"===A?e=null==t?void 0:t.latin:"English"===A&&(e=null==t?void 0:t.arabic);let a=b(A,e);return await a&&c(!1),a},d=()=>{let e="";return"Dari"===A?e=null==t?void 0:t.latin:"English"===A&&(e=null==t?void 0:t.arabic),e};return(0,a.jsxs)("div",{className:"Output",children:[(0,a.jsx)(R(),{color:"#504ED8",loading:i,cssOverride:E,"aria-label":"Loading Spinner"}),"English"===A&&(0,a.jsx)("p",{className:"output-text-dari",children:null==t?void 0:t.arabic}),(0,a.jsx)("p",{className:"output-text",children:null==t?void 0:t.latin}),t&&(0,a.jsx)("div",{className:"output-buttons",children:(0,a.jsx)(G,{isAudioLoading:r,handleSpeak:o,isCopied:s,handleCopy:()=>{T(d()),l(!0),setTimeout(()=>{l(!1)},2e3)}})})]})};A(8677);var f={src:"/_next/static/media/upload.271c23ee.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAIVBMVEVMaXFRT91RTttQTtdPTtpQT9pNTdFQTtlMTOVPT9lPTNjfS81eAAAAC3RSTlMA+RqZS8JP0gowakcEfUwAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAzSURBVHicJcbJEcAwDMNAkKJ89V9wxs5+AICEZ0jj1lOaBmPJmP6naVbVunOS5DS7nv0BEuEAt82MIfYAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},M={src:"/_next/static/media/camera.5ef35625.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAIVBMVEVQT9xQTtpQTdhPTthQTthYVu5MaXFRUdxRUeNRUdtRT936cYiKAAAACnRSTlPuZ0mR5/4ALBwy/lYb1gAAAAlwSFlzAAAOwwAADsMBx2+oZAAAADVJREFUeJxFyrkRwDAQA7El75HM/gt24MApBuw+9rPLNTP40qGKNImqlJDWjDq/8B04tmSfFyxeASlQohjYAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},j={src:"/_next/static/media/photos.0afd8c1c.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAKlBMVEVOTuZQTtpQTtlQTtlSUN9QTtlQTtlRUdZPTdhQTtdPTdlOTNhPTddRUdjDb9rZAAAADnRSTlMBpp6P/vhVEL4k1DuAQoqKdQgAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAA4SURBVHicHcEJDsAgCATAPQAF7f+/28QZ4G5S3IB50SCW63SSKHomMiFFREZiW7L9YZ3SpPCsavwnzAEX12AGuwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},y=e=>{let{handleFileChange:t,pickFiles:A,pickImages:i,pickMedia:s,pickVideos:n}=e;return(0,a.jsxs)("div",{className:"media-handler",style:{display:"flex",justifyContent:"space-around",marginTop:"20px"},children:[(0,a.jsx)("label",{htmlFor:"file-input",style:{cursor:"pointer",display:"flex",alignItems:"center"},children:(0,a.jsx)(g(),{src:f,alt:"Upload",className:"icon upload",width:40,height:40})}),(0,a.jsx)("input",{type:"file",id:"file-input",style:{display:"none"},onChange:A}),(0,a.jsx)("div",{style:{cursor:"pointer"},onClick:i,children:(0,a.jsx)(g(),{src:j,alt:"Photo Library",className:"icon photo-library",width:40,height:40})}),(0,a.jsx)("div",{style:{cursor:"pointer"},onClick:s,children:(0,a.jsx)(g(),{src:M,alt:"Camera",className:"icon camera",width:40,height:40})}),(0,a.jsx)("div",{style:{cursor:"pointer"},onClick:n,children:(0,a.jsx)(g(),{src:c,alt:"Scan",className:"icon scan",width:40,height:40})})]})},C=A(2068),N=A(3302),v=A.n(N),V=()=>{let{endpoint:e}=S(),[t,A]=(0,n.useState)("Dari"),[a,i]=(0,n.useState)(!1),[s,l]=(0,n.useState)(""),[r,c]=(0,n.useState)(""),[o,d]=(0,n.useState)(!0),g=p[t],h=new(v())("6d0d81d4961da4016400187ae4215ece");(0,n.useEffect)(()=>{i(!1),(null==r?void 0:r.length)===0&&l("")},[r]);let u=()=>{C.V.alert({title:g.alertTitle,message:g.alertMessage})},m=async()=>{if(console.log({input:r}),""===r.trim())return await u(),!1;let e=await h.detect(r).then(e=>{var t;return null===(t=e[0])||void 0===t?void 0:t.language});return"English"===t&&"en"===e||"Dari"===t&&"en"!==e||(await u(),!1)},w=async()=>{await m(r)&&(i(!0),fetch("".concat(e,"/translate"),{mode:"cors",method:"POST",body:JSON.stringify({language:t,text:r}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(e=>{var t;l(null===(t=JSON)||void 0===t?void 0:t.parse(e))}).catch(e=>{console.error(e.message),l(null==g?void 0:g.errorResponse)}).finally(()=>{i(!1)}))};return{inputLanguage:t,setInputLanguage:A,input:r,setInput:c,translate:w,loading:a,setLoading:i,response:s,setResponse:l,switched:o,setSwitched:d,reset:()=>{c(""),l("")},inputConfig:g}};let k=A(7320);var Q=()=>{let[e,t]=(0,n.useState)(!1);return{isUploading:e,upload:async(e,A,a,i)=>{try{let s="string"==typeof e?e:e.target.files[0];if(!s)return;A(!0),t(!0);let{data:{text:n}}=await k.recognize(s,"Dari"===i?"fas":"eng",{logger:()=>{}});a(n),t(!1)}catch(e){console.error("Error extracting text:",e),t("An error occurred during text extraction.")}finally{A(!1)}}}},I=A(6318),O=()=>({pickFiles:async()=>{await I.G.pickFiles({types:["image/png"]})},pickImages:async()=>{console.log("result: ",await I.G.pickImages())},pickMedia:async()=>{console.log("result: ",await I.G.pickMedia())},pickVideos:async()=>{console.log("result: ",await I.G.pickVideos())},appendFileToFormData:async()=>{let e=(await I.G.pickFiles()).files[0],t=new FormData;if(e.blob){let A=new File(e.blob,e.name,{type:e.mimeType});t.append("file",A,e.name)}console.log("formData: ",t)}}),B=A(5132),F=()=>{let{inputLanguage:e,setInputLanguage:t,input:A,setInput:i,translate:s,loading:l,setLoading:r,response:c,switched:o,setSwitched:d,reset:g,inputConfig:u}=V(),{upload:p}=Q(),{pickFiles:m,pickImages:x,pickMedia:T,pickVideos:S,appendFileToFormData:b}=O(),U=()=>{s(A)};return(0,n.useEffect)(()=>{console.log("input: ",A)},[A]),(0,a.jsxs)("div",{className:"TranslateText",children:[(0,a.jsx)(h,{setInputLanguage:t,switched:o,setSwitched:d,reset:g}),(0,a.jsx)(w,{input:A,setInput:i,translate:s,setLoading:r,inputLanguage:e,inputConfig:u,switched:o,reset:g,handleKeyDown:t=>{"Enter"===t.key&&(t.preventDefault(),s(A,e))}}),(0,a.jsx)(D,{response:c,inputLanguage:e,loading:l}),(0,a.jsx)(B.z,{className:"translate-button",label:u.translate,icon:"pi pi-check",onClick:U}),(0,a.jsx)(y,{handleFileChange:t=>{console.log("eventOrImagePath: ",t),p(t,r,i,e,U)},pickFiles:m,pickMedia:T,pickImages:x,pickVideos:S})]})},P=A(3380),H=A.n(P);let J=e=>{let{handleSpeak:t}=e;return(0,a.jsx)(g(),{src:r,alt:"speaker icon",className:"speaker",onClick:()=>t()})},L=()=>(0,a.jsx)(H(),{color:"#504ed8",className:"speaker",size:20});var K=e=>{let{isAudioLoading:t,handleSpeak:A}=e;return(0,a.jsx)(()=>t?(0,a.jsx)(L,{}):(0,a.jsx)(J,{handleSpeak:A}),{})},z={src:"/_next/static/media/check.e8eb689a.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAM1BMVEVMStdycOTFxfFJRtxMaXFRTthSUN5PTddPTdlRT9xaWNtVU+bX1/ZOTOTx8fyLiuXCwvHAqoVSAAAACnRSTlP+/vqwALOwLvbqFzDhgQAAAAlwSFlzAAAOxAAADsQBlSsOGwAAADlJREFUeJw1y7kBgDAMALEzJP4d2H9aKtSLZdt928KiYMLQgrzkxvPJ7nRczmlwdORNSrEYqDD+/gE+KgG/4betswAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},G=e=>{let{isAudioLoading:t,handleSpeak:A,isCopied:i,handleCopy:s}=e;return(0,a.jsxs)("div",{className:"output-buttons",children:[(0,a.jsx)(K,{isAudioLoading:t,handleSpeak:A}),(0,a.jsx)(g(),{src:i?z:l,alt:"copy icon",className:"copy",onClick:s})]})},Z=A(4298),Y=A.n(Z);function W(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s(),{children:[(0,a.jsx)("title",{children:"Afghan Translator"}),(0,a.jsx)("meta",{name:"description",content:"Dari-English Translator App"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,a.jsx)("script",{src:"//unpkg.com/moesif-browser-js@v1/moesif.min.js"})]}),(0,a.jsx)(Y(),{src:"//unpkg.com/moesif-browser-js@v1/moesif.min.js"}),(0,a.jsx)(Y(),{id:"moesif-init",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:'\n            moesif.init({\n              applicationId: "'.concat("eyJhcHAiOiI0OTM6NzQzIiwidmVyIjoiMi4xIiwib3JnIjoiMzU5OjUxMyIsImlhdCI6MTcxNDUyMTYwMH0.UiDoCRRghryUbjvAAb1nOeTlE08EMJjcEPhoV4Xj7-A",'",\n            });\n\n            moesif.identifyUser("12345");\n\n            moesif.track("clicked_sign_up", {\n              button_label: "Get Started",\n            });\n          ')}}),(0,a.jsx)("div",{className:"App",children:(0,a.jsx)(F,{})})]})}}},function(e){e.O(0,[534,888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);