(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(3240)}])},3240:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return P}});var A=a(5893),n=a(7294),r=a(9008),s=a.n(r),l={src:"/_next/static/media/copy.24ea6f38.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEVQTts3N8BQTtpQTdhQTdlQTdlPTddRT9lNTdZKStUJhQICAAAACnRSTlNjAYJamrdMLUUfN/vipAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAADFJREFUeJxdxrkRwDAQxDBy75Hcf8Mep0YE9FCs+ExSvZzpdPioSf3Sc9kumBIXOPoCFycAmmc6xZ8AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},i={src:"/_next/static/media/speech.3c7d3a8c.png",height:64,width:64,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAGFBMVEVUUeNQTtpQTtlRT9tRT9tQTthQTtlTUeAGAJHPAAAACHRSTlMBgXOWNUcPYP7W8OcAAAAJcEhZcwABdwAAAXcAAeYC4S8AAAAsSURBVHicRYtBCgAgDMPSdtP//1gQnD0FkgKUueuELhwtl4R2oeV8GDXxux8T5ACNZhihqgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8};let c=[{text:"English",icon:{src:"/_next/static/media/usa.ad483282.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAY1BMVEXeJETjkp3stb3vwMjeM1Iqb8Izc79MaXHb1eDu0NTfSmXrwsndJUYFVa9sl85Afcc/gMnWssLpL03wqLLJK1HZRmHxx8/fZHrw0NbiMFA2e8r6zNTuL1BAc70+eMHYvszKIUeXq5vHAAAAGnRSTlP+Ly7q9LL5APz+tf73MC/q9PixtP4vsDDzsSKQ9GMAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABFSURBVHicBcEHAoAgDASwY7YMxS2y9P+vNAHNxq77SZhS6UfTN0yx4831wjJK/4AIZmbnXMbWAMT2QKgaQlUCJL3WXtIPjnUDf2W1DTgAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},sortOrder:1},{text:null,icon:{src:"/_next/static/media/swap.22fbef92.png",height:64,width:64,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAIVBMVEX///9MaXH///////////////////////////////////+zsAL3AAAAC3RSTlOoAG8Pef0r3kiGgjDc7xIAAAAJcEhZcwABdwAAAXcAAeYC4S8AAAAzSURBVHicHYu5EQAwCMOEDfn2HzgHalzIwulooGgWr65SbOKMEurxCTZK3Xqs+RZM6/QHF6AAp5sdcg8AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},sortOrder:2},{text:"Dari",icon:{src:"/_next/static/media/afghanistan.536dc3d5.png",height:1024,width:1024,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAASFBMVEUIAgIDAgJSrFQEAQH3QTryRD1RrFU+sVBMaXFVFxVVLCoAAACIllyGg0hhHBlEs1aQgElHtFYAAAD3UEn6g36NkFD7mZX3ZV4439pkAAAAEXRSTlMv87Cw/vjzLwD9/ur++rTqtHSBEiAAAAAJcEhZcwAACxMAAAsTAQCanBgAAAA8SURBVHicY+Bg4GNlFWDnYGDg5mRhEeVnZ2AW4hQW5hVkYmAU4hIR4RFkAzHExEAMZiFOcXGQFFwxTDsAX9QCsdcd4LEAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},sortOrder:3}];var o=a(5675),d=a.n(o),g=e=>{let{setInputLanguage:t,switched:a,setSwitched:r,reset:s}=e,[l,i]=(0,n.useState)(c);(0,n.useEffect)(()=>{i(e=>[...e].sort((e,t)=>a?t.sortOrder-e.sortOrder:e.sortOrder-t.sortOrder)),a?t("Dari"):t("English")},[a,t]);let o=()=>{r(!a),s()};return(0,A.jsx)("div",{className:"Languages",children:l.map((e,t)=>(0,A.jsx)("div",{className:"language input-language",children:(0,A.jsx)(d(),{src:null==e?void 0:e.icon,alt:"language icon",className:e.text?"language-icon":"switch-button",onClick:o})},(null==e?void 0:e.sortOrder)||t))})},u=a(4229);let h={default:{placeholder:"What would you like to translate?",reset:"Reset",translate:"Translate",alertTitle:"Input Warning",alertMessage:"Please enter text",errorResponse:{latin:"We're sorry, we are unable to complete your request at this time.",arabic:"ببخشید، ما نمیتوانم درخواست شما را انجام دهم"}},English:{placeholder:"What would you like to translate?",reset:"Reset",translate:"Translate",alertTitle:"Input Warning",alertMessage:"Please enter text in English.",errorResponse:{latin:"We're sorry, we are unable to complete your request at this time."}},Dari:{placeholder:"چه میخواهید ترجمه کنید؟\nChe mikhahi tarjuma koni?",reset:"Reset",translate:"چگونه",alertTitle:"پیغام هوشدار",alertMessage:"لطفاً متن را برای ترجمه وارد کنید",errorResponse:{arabic:"ببخشید، ما نمیتوانم درخواست شما را انجام دهم"}}};var p={src:"/_next/static/media/refresh.7b8702f5.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAGFBMVEVCQuJST9dQTtpPTddPTdhQTdVQTtdPSdeSA8n7AAAACHRSTlMBFZyLaFbxLTzit4oAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAArSURBVHicJYrJDQAgAMK41P03NgReDS3wSKKTLBd1D+JeNZodJJiitXgRPgzyAFGcHC34AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},x=e=>{let{input:t,setInput:a,inputLanguage:r,switched:s,reset:l,handleKeyDown:i}=e,[c,o]=(0,n.useState)(0),g=h[r],x=e=>{a(e.target.value),o(e.target.value.length)};return(0,n.useEffect)(()=>{(null==t?void 0:t.length)===0&&o(0)},[t]),(0,A.jsx)("div",{className:"Input",children:(0,A.jsxs)("span",{className:"p-float-label input-textarea ".concat(s&&"right"),children:[(0,A.jsx)(u.g,{value:t,onChange:e=>x(e),onKeyDown:i,placeholder:g.placeholder,maxLength:1200,className:"".concat(s&&"right")}),(0,A.jsxs)("div",{className:"input-info",children:[(0,A.jsxs)("div",{className:"character-count",children:[c,"/1200"]}),(0,A.jsx)(d(),{src:p,alt:"",className:"reset ".concat(t&&"show"),onClick:l})]}),(0,A.jsx)("label",{children:s?"دری ".concat(r," "):r})]})})},w={src:"/_next/static/media/check.e8eb689a.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAM1BMVEVMStdycOTFxfFJRtxMaXFRTthSUN5PTddPTdlRT9xaWNtVU+bX1/ZOTOTx8fyLiuXCwvHAqoVSAAAACnRSTlP+/vqwALOwLvbqFzDhgQAAAAlwSFlzAAAOxAAADsQBlSsOGwAAADlJREFUeJw1y7kBgDAMALEzJP4d2H9aKtSLZdt928KiYMLQgrzkxvPJ7nRczmlwdORNSrEYqDD+/gE+KgG/4betswAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},S=a(9807);let m=async e=>{await S.T.write({string:e})};var T=()=>{let e="https://afghan-translator-api.onrender.com/api";return{endpoint:"https://afghan-translator-api-dev.onrender.com/api"}};let E=async(e,t)=>{let{endpoint:a}=T();try{let A=await fetch("".concat(a,"/tts"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t})});if(!A.ok)throw Error("Failed to fetch audio");let n=await A.blob(),r=URL.createObjectURL(n),s=new Audio(r);s.playbackRate="Dari"===e?1:.8,s.play()}catch(e){console.error("Error fetching audio:",e)}return{}};var R=a(6697),b=a.n(R);let f={display:"block",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"};var U=e=>{let{response:t,inputLanguage:a,loading:r}=e,[s,i]=(0,n.useState)(!1),[c,o]=(0,n.useState)(!1),g=async()=>{o(!0);let e="";"Dari"===a?e=null==t?void 0:t.latin:"English"===a&&(e=null==t?void 0:t.arabic);let A=E(a,e);return await A&&o(!1),A},u=()=>{let e="";return"Dari"===a?e=null==t?void 0:t.latin:"English"===a&&(e=null==t?void 0:t.arabic),e};return(0,A.jsxs)("div",{className:"Output",children:[(0,A.jsx)(b(),{color:"#504ED8",loading:r,cssOverride:f,"aria-label":"Loading Spinner"}),"English"===a&&(0,A.jsx)("p",{className:"output-text-dari",children:null==t?void 0:t.arabic}),(0,A.jsx)("p",{className:"output-text",children:null==t?void 0:t.latin}),t&&(0,A.jsxs)("div",{className:"output-buttons",children:[(0,A.jsx)(H,{isAudioLoading:c,handleSpeak:g}),(0,A.jsx)(d(),{src:s?w:l,alt:"copy icon",className:"speech",onClick:()=>{m(u()),i(!0),setTimeout(()=>{i(!1)},2e3)}})]})]})},D={src:"/_next/static/media/upload.271c23ee.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAIVBMVEVMaXFRT91RTttQTtdPTtpQT9pNTdFQTtlMTOVPT9lPTNjfS81eAAAAC3RSTlMA+RqZS8JP0gowakcEfUwAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAzSURBVHicJcbJEcAwDMNAkKJ89V9wxs5+AICEZ0jj1lOaBmPJmP6naVbVunOS5DS7nv0BEuEAt82MIfYAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},j=e=>{let{handleFileChange:t}=e;return(0,A.jsxs)("div",{style:{marginTop:"10px",display:"flex",alignItems:"center"},children:[(0,A.jsx)("label",{htmlFor:"file-input",style:{cursor:"pointer",display:"flex",alignItems:"center"},children:(0,A.jsx)(d(),{src:D,alt:"upload icon",className:"icon upload"})}),(0,A.jsx)("input",{type:"file",id:"file-input",accept:"image/*",style:{display:"none"},onChange:t})]})},v=a(2068),N=a(3302),C=a.n(N),M=()=>{let{endpoint:e}=T(),[t,a]=(0,n.useState)("Dari"),[A,r]=(0,n.useState)(!1),[s,l]=(0,n.useState)(""),[i,c]=(0,n.useState)(""),[o,d]=(0,n.useState)(!0),g=h[t],u=new(C())("6d0d81d4961da4016400187ae4215ece");(0,n.useEffect)(()=>{r(!1),(null==i?void 0:i.length)===0&&l("")},[i]);let p=()=>{v.V.alert({title:g.alertTitle,message:g.alertMessage})},x=async e=>{if(""===e.trim())return await p(),!1;let a=await u.detect(i).then(e=>{var t;return null===(t=e[0])||void 0===t?void 0:t.language});return"English"===t&&"en"===a||"Dari"===t&&"en"!==a||(await p(),!1)},w=async a=>{await x(a)&&(r(!0),fetch("".concat(e,"/translate"),{mode:"cors",method:"POST",body:JSON.stringify({language:t,text:a}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(e=>{var t;l(null===(t=JSON)||void 0===t?void 0:t.parse(e))}).catch(e=>{console.error(e.message),l(null==g?void 0:g.errorResponse)}).finally(()=>{r(!1)}))};return{inputLanguage:t,setInputLanguage:a,input:i,setInput:c,translate:w,loading:A,setLoading:r,response:s,setResponse:l,switched:o,setSwitched:d,reset:()=>{c(""),l("")},inputConfig:g}};let y=a(7320);var V=(e,t)=>{let[a,A]=(0,n.useState)(""),[r,s]=(0,n.useState)("");return{uploadStatus:a,extractedText:r,handleFileChange:async a=>{try{let n=a.target.files[0];if(!n)return;e(!0),A("Processing...");let{data:{text:r}}=await y.recognize(n,"Dari"===t?"fas":"eng",{logger:()=>{}});s(r),A("Text extraction completed successfully!")}catch(e){console.error("Error extracting text:",e),A("An error occurred during text extraction.")}finally{e(!1)}}}},O=a(5132),B=()=>{let{inputLanguage:e,setInputLanguage:t,input:a,setInput:r,translate:s,loading:l,setLoading:i,response:c,setResponse:o,switched:d,setSwitched:u,reset:h,inputConfig:p}=M(),{extractedText:w,handleFileChange:S}=V(i,e);return(0,n.useEffect)(()=>{r(w),o("")},[w]),(0,A.jsxs)("div",{className:"TranslateText",children:[(0,A.jsx)(g,{setInputLanguage:t,switched:d,setSwitched:u,reset:h}),(0,A.jsx)(x,{input:a,setInput:r,translate:s,setLoading:i,inputLanguage:e,inputConfig:p,switched:d,reset:h,handleKeyDown:t=>{"Enter"===t.key&&(t.preventDefault(),s(a,e))}}),(0,A.jsx)(U,{response:c,inputLanguage:e,loading:l}),(0,A.jsx)(O.z,{className:"translate-button",label:p.translate,icon:"pi pi-check",onClick:()=>{s(a,e)}}),(0,A.jsx)(j,{handleFileChange:S})]})},L=a(3380),F=a.n(L);let I=e=>{let{handleSpeak:t}=e;return(0,A.jsx)(d(),{src:i,alt:"speaker icon",className:"speech",onClick:()=>t()})},Q=()=>(0,A.jsx)(F(),{color:"#504ed8",className:"speech",size:20});var H=e=>{let{isAudioLoading:t,handleSpeak:a}=e;return(0,A.jsx)(()=>t?(0,A.jsx)(Q,{}):(0,A.jsx)(I,{handleSpeak:a}),{})},J=a(4298),k=a.n(J);function P(){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(s(),{children:[(0,A.jsx)("title",{children:"Afghan Translator"}),(0,A.jsx)("meta",{name:"description",content:"Dari-English Translator App"}),(0,A.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,A.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,A.jsx)(k(),{async:!0,src:"https://www.googletagmanager.com/gtag/js?id=G-RBF2SG2K38"}),(0,A.jsx)(k(),{children:"window.dataLayer = window.dataLayer || [];\n          function gtag(){dataLayer.push(arguments)}\n          gtag('js', new Date());\n\n          gtag('config', 'G-RBF2SG2K38')\n          "}),(0,A.jsx)("div",{className:"App",children:(0,A.jsx)(B,{})})]})}}},function(e){e.O(0,[534,888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);